<!-- include header -->
<%- include('include/_adminHeader') %>
<!-- /include header -->

<!-- Main Site -->
<div id="mainContent" class="adminPage" id="page">
  <div class="userHdr">Add Drink</div>
  <div>
    Add Image<input
      type="file"
      name="image"
      id="image"
      onchange="encodeImageFileAsURL();"
    />
  </div>
  <img id="drinkImg" />
  <input type="text" id="name" placeholder="Name..." />
  <input type="text" id="description" placeholder="Description..." />
  <input type="text" id="price" placeholder="Price..." />
  <!--accesses all the ingredients and displays them in a list of checkboxes-->
  <div id="ingredientsList" class="dropdown-check-list">
    <span class="anchor">Select Ingredients</span>
    <ul class="items">
      <% for (let ingredient of ingredients) {%>
      <li>
        <input id="ingredients" type="checkbox" value="<%= ingredient.id %>" /><%=
        ingredient.ingredient %>
      </li>
      <%}%>
    </ul>
  </div>
    <!--accesses all the temps from the json and displays them as checkboxes-->
    <span class="anchor">Select Temps</span>
    <div class="tempBox">
      <% for(let temp of temps){ %>
      <label id="tempLabel">
        <input
          type="checkbox"
          id="temp"
          class="temps"
          name="temps"
          value="<%=temp%>"
        />
        <%=temp%>
      </label>
      <%} %>
    </div>

    <span class="anchor">Select Options</span>
    <!--checkboxes for if a drink is popular, special or if it can be caffeinated-->
    <div>
      <input type="checkbox" id="popular" />
      <label for="popular">Popular</label>
    </div>
    <div>
      <input type="checkbox" id="special" />
      <label for="special">Special</label>
    </div>
    <div>
      <input type="checkbox" id="caffeinated" value="Caffeinated" />
      <label for="caffeinated">Caffeinated</label>
    </div>
    <div hidden>
      <input type="checkbox" id="allowDecaf" value="Available in Decaf" />
      <label for="allowDecaf">Available in Decaf</label>
    </div>
  </div>

  <input type="submit" class="submit" value="Add Drink" />
  <style>
    #tempLabel {
      margin-right: 5px;
    }

    /* Fix checkbox visibility */
    input[type="checkbox"] {
      appearance: none;
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border: 2px solid var(--coffee-medium);
      border-radius: 4px;
      background: white;
      position: relative;
      margin-right: 10px;
      cursor: pointer;
      vertical-align: middle;
    }

    input[type="checkbox"]:checked {
      background: var(--accent);
      border-color: var(--accent);
    }

    input[type="checkbox"]:checked::after {
      content: "âœ“";
      color: white;
      position: absolute;
      left: 50%;
      top: 45%;
      transform: translate(-50%, -50%);
      font-size: 14px;
      font-weight: bold;
    }

    /* Specific styles for temperature and options sections */
    .tempBox input[type="checkbox"],
    #pageRight > div input[type="checkbox"] {
      z-index: 1;
    }

    .tempBox label,
    #pageRight > div label {
      display: inline-flex;
      align-items: center;
      margin: 5px 0;
      color: var(--coffee-dark);
      font-weight: 500;
    }

    /* Add spacing between sections */
    .anchor {
      display: block;
      margin: 1rem 0 0.5rem 0;
      font-weight: 600;
      color: var(--coffee-dark);
    }

    .tempBox {
      margin: 0.5rem 0;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
  </style>

  <!-- /Main Site -->

  <script src="/js/addDrink.js"></script>

  <!-- include footer -->
  <%- include('include/_footer') %>
  <!-- /include footer -->
</div>
